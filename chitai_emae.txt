Короче. Как и говорил, написал типа кастрированную графовую архитектуру, на которой Кум и работает. Она в файле memory.
В самом файле KUM лежит начало реализации Кума поверх созданной архитектуры. А конкретно: построение деревьев.
У этого предиката Григорьева фишечка такая - там деревья растут экспоненциально. Типа раз в столько-то шагов глубина растет в два раза.
Буквально, берется старое дерево, а его листья становятся корнями таких же деревьев. В итоге глубина удваивается.
В статье Григорьева происходит какая-то хитрая битовая функция для вычисления значения новых узлов. У меня пока что просто копируется старое дерево.
Я потестил с L=0,1,2,3. Соответственно пути в графе от корня длины 1,2,4,8. Оно кажется работает. Прям сейчас тест активен, можешь запустить Кума и позырить.
Но говорю - у Григорьева деревья не просто копируются, там узлы как-то считаются.
Те штуки, что на непосредственно прием символов и динамическое обновление дерева я еще не тестил. 


Еще мне нейронка написала, что у Кума два чередующихся режима: активный и построение.
В активном юзер вводит символ, Кум идет по маршруту от корня из последних  2^L символов и возвращает бит, что лежит в листе.
В построении Кум всегда возвращает 1, параллельно обновляя дерево.

Я еще не придумал, как такое показать, но имей в виду